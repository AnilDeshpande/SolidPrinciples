@startuml
!define KO_KOTLIN
!define KO_ICON
skinparam class {
    BackgroundColor White
    ArrowColor SeaGreen
    BorderColor Black
}

package "com.codetutor.solidprinciples.integrated" {
    class College {
        List<Department> departments
        List<Staff> staff
        MutableList<Student> students
        List<Course> courses
        StaffManager staffManager
        EngagementManager engagementManager
        StudentManager studentManager
    }

    abstract class Department {
        String name
    }

    class AcademicDepartment extends Department
    class NonAcademicDepartment extends Department

    class Address {
        String localAddress
        String homeAddress
    }

    abstract class Student {
        String name
        int age
        String dateOfBirth
        Department department
        int currentSemester
        Address address
        abstract String getCourseType()
    }

    class UndergraduateStudent extends Student {
        String getCourseType()
    }

    class PostGraduateStudent extends Student {
        String getCourseType()
    }

    class PhdStudent extends Student {
        String getCourseType()
    }

    class PostDocStudent extends Student {
        String getCourseType()
    }

    abstract class Course {
        String name
        Department department
        abstract Integer getTenure()
    }

    class UndergraduateCourse extends Course {
        int tenure
        Integer getTenure()
    }

    class PostGraduateCourse extends Course {
        int tenure
        Integer getTenure()
    }

    class PhdCourse extends Course {
        Integer getTenure()
    }

    class PostDocCourse extends Course {
        Integer getTenure()
    }

    abstract class Staff {
        String name
        Department department
        SalaryCalculator salaryCalculator
        abstract Double getSalary()
        abstract void engageStudents(String subject, List<Student> students, EngagementStrategy strategy)
    }

    class AcademicStaff extends Staff {
        double salary
        Double getSalary()
        void engageStudents(String subject, List<Student> students, EngagementStrategy strategy)
    }

    class NonAcademicStaff extends Staff {
        double salary
        Double getSalary()
        void engageStudents(String subject, List<Student> students, EngagementStrategy strategy)
    }

    class VisitingStaff extends Staff {
        double payPerVisit
        Double getSalary()
        void engageStudents(String subject, List<Student> students, EngagementStrategy strategy)
    }
}

package "com.codetutor.solidprinciples.integrated.calculators" {
    interface SalaryCalculator {
        Double calculateSalary(Staff staff)
    }

    class AcademicSalaryCalculator implements SalaryCalculator {
        Double calculateSalary(Staff staff)
    }

    class VisitingSalaryCalculator implements SalaryCalculator {
        Double calculateSalary(Staff staff)
    }
}

package "com.codetutor.solidprinciples.integrated.managers" {
    interface EngagementStrategy {
        void engageStudents(Staff staff, String subject, List<Student> students)
    }

    class LectureEngagement implements EngagementStrategy {
        void engageStudents(Staff staff, String subject, List<Student> students)
    }

    class WorkshopEngagement implements EngagementStrategy {
        void engageStudents(Staff staff, String subject, List<Student> students)
    }

    class StaffManager {
        void assignStaffToDepartment(Staff staff, Department department)
    }

    class EngagementManager {
        Map<String, EngagementStrategy> strategies
        void engageStudents(Staff staff, String subject, List<Student> students)
    }

    class StudentManager {
        EngagementManager engagementManager
        void registerStudent(MutableList<Student> students, Student student)
        void engageStudents(Staff staff, String subject, List<Student> students)
    }
}

College "1" -- "*" Department : has >
College "1" -- "*" Staff : has >
College "1" -- "*" Student : has >
College "1" -- "*" Course : offers >
College "1" -- "1" StaffManager : uses >
College "1" -- "1" StudentManager : uses >
College "1" -- "1" EngagementManager : uses >

Staff "1" -- "1" Department : belongs to >
Staff "1" -- "1" SalaryCalculator : calculates >

Student "1" -- "1" Department : belongs to >
Student "1" -- "1" Address : resides at >

Course "1" -- "1" Department : belongs to >

StudentManager "1" -- "1" EngagementManager : uses >
StudentManager "1" -- "*" Student : manages >

EngagementManager "1" -- "*" EngagementStrategy : uses >
EngagementManager "1" -- "*" Staff : engages >
EngagementManager "1" -- "*" Student : engages >

StaffManager "1" -- "*" Staff : manages >
StaffManager "1" -- "1" Department : assigns to >

@enduml